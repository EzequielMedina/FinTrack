<div class="login-wrapper">
  <div class="login-card">
    <div class="card-header">
      <img src="assets/icons/wallet.svg" class="logo-icon" alt="FinTrack">
      <h1>FinTrack</h1>
      <p class="subtitle">Inicia sesiÃ³n en tu cuenta</p>
    </div>
    
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
      <div class="form-group">
        <label for="email">Email</label>
        <div class="input-wrapper">
          <img src="assets/icons/users.svg" class="input-icon" alt="Email">
          <input 
            id="email"
            type="email" 
            formControlName="email" 
            placeholder="tu@email.com"
            autocomplete="email"
            [class.error]="emailControl?.touched && emailControl?.invalid"
          />
        </div>
        @if (emailControl?.touched && emailControl?.invalid) {
          <span class="error-text">{{ getEmailErrorMessage() }}</span>
        }
      </div>

      <div class="form-group">
        <label for="password">ContraseÃ±a</label>
        <div class="input-wrapper">
          <img src="assets/icons/settings.svg" class="input-icon" alt="ContraseÃ±a">
          <input 
            id="password"
            [type]="hidePassword() ? 'password' : 'text'"
            formControlName="password" 
            placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
            autocomplete="current-password"
            [class.error]="passwordControl?.touched && passwordControl?.invalid"
          />
          <button 
            type="button"
            class="toggle-password"
            (click)="togglePasswordVisibility()"
            [attr.aria-label]="hidePassword() ? 'Mostrar contraseÃ±a' : 'Ocultar contraseÃ±a'"
          >
            <img 
              [src]="hidePassword() ? 'assets/icons/alert-circle.svg' : 'assets/icons/check-circle.svg'" 
              class="icon icon-sm" 
              [alt]="hidePassword() ? 'Mostrar' : 'Ocultar'"
            >
          </button>
        </div>
        @if (passwordControl?.touched && passwordControl?.invalid) {
          <span class="error-text">{{ getPasswordErrorMessage() }}</span>
        }
      </div>

      @if (error()) {
        <div class="alert alert-error">
          <img src="assets/icons/alert-circle.svg" class="icon icon-sm" alt="Error">
          {{ error() }}
        </div>
      }

      <button
        type="submit"
        class="btn btn-primary btn-lg"
        [disabled]="loading() || loginForm.invalid"
      >
        @if (loading()) {
          <span class="loading-spinner"></span>
          Iniciando sesiÃ³n...
        } @else {
          Iniciar sesiÃ³n
        }
      </button>
    </form>

    <div class="card-footer">
      <p>Â¿No tienes cuenta? <a routerLink="/register" class="link">RegÃ­strate aquÃ­</a></p>
    </div>

    <!-- SecciÃ³n QuiÃ©nes Somos -->
    <div class="about-section">
      <button 
        type="button"
        class="about-toggle"
        (click)="toggleAbout()"
      >
        <span>{{ showAbout() ? 'â–¼' : 'â–º' }} QuiÃ©nes Somos</span>
      </button>
      
      @if (showAbout()) {
        <div class="about-content">
          <div class="about-block">
            <h3>ğŸ¯ Nuestra MisiÃ³n</h3>
            <p>
              FinTrack nace para solucionar la problemÃ¡tica de la gestiÃ³n financiera personal 
              fragmentada y desorganizada. Muchas personas utilizan mÃºltiples herramientas 
              (hojas de cÃ¡lculo, aplicaciones bancarias, notas) para controlar sus finanzas, 
              lo que resulta en pÃ©rdida de tiempo, informaciÃ³n dispersa y falta de visiÃ³n integral 
              de su situaciÃ³n econÃ³mica.
            </p>
          </div>

          <div class="about-block">
            <h3>ğŸ’¡ La SoluciÃ³n</h3>
            <p>
              Ofrecemos una plataforma centralizada e intuitiva que permite:
            </p>
            <ul>
              <li>ğŸ“Š Gestionar cuentas bancarias y billeteras digitales en un solo lugar</li>
              <li>ğŸ’³ Control integral de tarjetas de crÃ©dito y dÃ©bito con seguimiento de cuotas</li>
              <li>ğŸ”„ Registro automÃ¡tico y categorizaciÃ³n de transacciones</li>
              <li>ğŸ“ˆ VisualizaciÃ³n en tiempo real de tu salud financiera</li>
              <li>ğŸ¤– Asistente inteligente para consultas y reportes personalizados</li>
              <li>ğŸ“± Notificaciones de vencimientos y alertas importantes</li>
            </ul>
          </div>

          <div class="about-block">
            <h3>ğŸ‘¥ QuiÃ©nes Somos</h3>
            <p>
              Somos un equipo de desarrolladores y diseÃ±adores apasionados por la tecnologÃ­a 
              financiera (FinTech), comprometidos con democratizar el acceso a herramientas 
              de gestiÃ³n financiera de calidad profesional. FinTrack es el resultado de 
              entender las necesidades reales de personas que buscan tomar control de sus 
              finanzas de manera simple y efectiva.
            </p>
          </div>

          <div class="about-footer">
            <p><strong>FinTrack</strong> - Tu aliado en la gestiÃ³n financiera inteligente</p>
          </div>
        </div>
      }
    </div>
  </div>

  <!-- SecciÃ³n QuiÃ©nes Somos -->
  <div class="about-section">
    <button 
      type="button" 
      class="about-toggle"
      (click)="toggleAbout()"
      [attr.aria-expanded]="showAbout()">
      <span>{{ showAbout() ? 'â–¼' : 'â–º' }} QuiÃ©nes Somos</span>
    </button>
    
    @if (showAbout()) {
      <div class="about-content">
        <div class="about-card">
          <h2>ğŸ¯ Â¿QuÃ© Problema Solucionamos?</h2>
          <p>
            Muchas personas y familias enfrentan dificultades para <strong>gestionar sus finanzas personales</strong>:
          </p>
          <ul>
            <li>ğŸ“Š <strong>Falta de visibilidad</strong>: No saben en quÃ© gastan su dinero</li>
            <li>ğŸ’³ <strong>Control de deudas</strong>: Pierden el rastro de pagos de tarjetas y cuotas</li>
            <li>ğŸ’° <strong>Sin presupuesto</strong>: Gastan mÃ¡s de lo que ganan sin darse cuenta</li>
            <li>ğŸ“ˆ <strong>Objetivos difusos</strong>: No pueden ahorrar para metas especÃ­ficas</li>
            <li>ğŸ”„ <strong>MÃºltiples cuentas</strong>: InformaciÃ³n dispersa en varios bancos y apps</li>
          </ul>
          <p>
            El resultado: <strong>estrÃ©s financiero, deudas acumuladas y objetivos no cumplidos</strong>.
          </p>
        </div>

        <div class="about-card">
          <h2>ğŸš€ Nuestra SoluciÃ³n: FinTrack</h2>
          <p>
            FinTrack es una <strong>plataforma integral de gestiÃ³n financiera personal</strong> que centraliza 
            todas tus finanzas en un solo lugar:
          </p>
          <div class="features-grid">
            <div class="feature">
              <span class="feature-icon">ğŸ“±</span>
              <h3>Control Total</h3>
              <p>Gestiona cuentas, tarjetas y transacciones en tiempo real</p>
            </div>
            <div class="feature">
              <span class="feature-icon">ğŸ’¡</span>
              <h3>Asistente IA</h3>
              <p>Chatbot inteligente que responde tus dudas financieras</p>
            </div>
            <div class="feature">
              <span class="feature-icon">ğŸ“Š</span>
              <h3>Reportes Visuales</h3>
              <p>GrÃ¡ficos y anÃ¡lisis de tus gastos e ingresos</p>
            </div>
            <div class="feature">
              <span class="feature-icon">ğŸ¯</span>
              <h3>Metas y Ahorro</h3>
              <p>Define objetivos y monitorea tu progreso</p>
            </div>
            <div class="feature">
              <span class="feature-icon">ğŸ””</span>
              <h3>Notificaciones</h3>
              <p>Alertas de vencimientos y recordatorios de pagos</p>
            </div>
            <div class="feature">
              <span class="feature-icon">ğŸŒ</span>
              <h3>Multi-divisa</h3>
              <p>Soporte para mÃºltiples monedas con conversiÃ³n automÃ¡tica</p>
            </div>
          </div>
        </div>

        <div class="about-card">
          <h2>ğŸ‘¥ QuiÃ©nes Somos</h2>
          <p>
            Somos un equipo de <strong>desarrolladores y especialistas en fintech</strong> comprometidos con 
            democratizar el acceso a herramientas de gestiÃ³n financiera profesional.
          </p>
          <p>
            <strong>Nuestra misiÃ³n</strong>: Empoderar a las personas para que tomen el control de sus finanzas 
            y alcancen sus objetivos econÃ³micos mediante tecnologÃ­a accesible e inteligente.
          </p>
          <p class="tech-stack">
            <strong>TecnologÃ­a:</strong> Construido con Angular, Go, MySQL y Docker. 
            Arquitectura de microservicios escalable y segura.
          </p>
        </div>
      </div>
    }
  </div>
</div>
